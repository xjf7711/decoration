"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DecorationApp=e():t.DecorationApp=e()}(self,(()=>(self.webpackChunkDecorationApp=self.webpackChunkDecorationApp||[]).push([[143],{80685:(t,e,s)=>{s.r(e)},10038:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AppElement=void 0;const i=s(16135);s(80685);class o extends HTMLElement{connectedCallback(){this.style.display="block",this.style.width="100vw",this.style.height="100vh";const t=new i.House({el:this,name:"decoration-app"});console.log("house.dom is ",t.dom);const e=[];t.dump(e),console.log('appRoot.dump() buff.join("") is ',e.join(""))}}e.AppElement=o,o.observedAttributes=[],customElements.define("decoration-app",o)},71634:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mannerList=void 0,e.mannerList=[{name:"中式",styleObj:{background:"#409EFF"},children:[{name:"客餐厅",styleObj:{background:"#409EFF"},jpgNameArr:["00125.jpg","0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00126.jpg","00127.jpg","00128.jpg","00129.jpg","0013.jpg","00130.jpg","00131.jpg","00132.jpg","00133.jpg","00134.jpg","00135.jpg","00136.jpg","00137.jpg","00138.jpg","00139.jpg","0014.jpg","00140.jpg","00141.jpg","00142.jpg","00143.jpg","00144.jpg","00145.jpg","00146.jpg","00147.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"客厅",styleObj:{background:void 0},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00125.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"餐厨",styleObj:{background:void 0},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"卧室",styleObj:{background:void 0},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"卫浴",styleObj:{background:void 0},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg"]},{name:"书房",styleObj:{background:void 0},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg"]}]},{name:"现代",styleObj:{background:""},children:[{name:"客餐厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00125.jpg","00126.jpg","00127.jpg","00128.jpg","00129.jpg","0013.jpg","00130.jpg","00131.jpg","00132.jpg","00133.jpg","00134.jpg","00135.jpg","00136.jpg","00137.jpg","00138.jpg","00139.jpg","0014.jpg","00140.jpg","00141.jpg","00142.jpg","00143.jpg","00144.jpg","00145.jpg","00146.jpg","00147.jpg","00148.jpg","00149.jpg","0015.jpg","00150.jpg","00151.jpg","00152.jpg","00153.jpg","00154.jpg","00155.jpg","00156.jpg","00157.jpg","00158.jpg","00159.jpg","0016.jpg","00160.jpg","00161.jpg","00162.jpg","00163.jpg","00164.jpg","00165.jpg","00166.jpg","00167.jpg","00168.jpg","00169.jpg","0017.jpg","00170.jpg","00171.jpg","00172.jpg","00173.jpg","00174.jpg","00175.jpg","00176.jpg","00177.jpg","00178.jpg","00179.jpg","0018.jpg","00180.jpg","00181.jpg","00182.jpg","00183.jpg","00184.jpg","00185.jpg","00186.jpg","00187.jpg","00188.jpg","00189.jpg","0019.jpg","00190.jpg","00191.jpg","00192.jpg","00193.jpg","00194.jpg","00195.jpg","00196.jpg","00197.jpg"]},{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"餐厨",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"卧室",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"卫浴",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg"]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]},{name:"新古典",styleObj:{background:""},children:[{name:"客餐厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00125.jpg","00126.jpg","00127.jpg","00128.jpg","00129.jpg","0013.jpg","00130.jpg","00131.jpg","00132.jpg","00133.jpg","00134.jpg","00135.jpg","00136.jpg","00137.jpg","00138.jpg","00139.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"餐厨",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg"]},{name:"卧室",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"卫浴",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg"]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]},{name:"欧式",styleObj:{background:""},children:[{name:"客餐厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00125.jpg","00126.jpg","00127.jpg","00128.jpg","00129.jpg","0013.jpg","00130.jpg","00131.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"餐厨",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg"]},{name:"卧室",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg"]},{name:"卫浴",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg"]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]},{name:"美式",styleObj:{background:""},children:[{name:"客餐厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","00122.jpg","00123.jpg","00124.jpg","00125.jpg","00126.jpg","00127.jpg","00128.jpg","00129.jpg","0013.jpg","00130.jpg","00131.jpg","00132.jpg","00133.jpg","00134.jpg","00135.jpg","00136.jpg","00137.jpg","00138.jpg","00139.jpg","0014.jpg","00140.jpg","00141.jpg","00142.jpg","00143.jpg","00144.jpg","00145.jpg","00146.jpg","00147.jpg","00148.jpg","00149.jpg","0015.jpg","00150.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"餐厨",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg"]},{name:"卧室",styleObj:{background:""},jpgNameArr:["0011.jpg","0012.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg"]},{name:"卫浴",styleObj:{background:""},jpgNameArr:["0011.jpg"]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]},{name:"北欧",styleObj:{background:""},children:[{name:"客餐厅",styleObj:{background:""},jpgNameArr:["0011.jpg","00110.jpg","00111.jpg","00112.jpg","00113.jpg","00114.jpg","00115.jpg","00116.jpg","00117.jpg","00118.jpg","00119.jpg","0012.jpg","00120.jpg","00121.jpg","0013.jpg","0014.jpg","0015.jpg","0016.jpg","0017.jpg","0018.jpg","0019.jpg"]},{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg"]},{name:"餐厨",styleObj:{background:""},jpgNameArr:[]},{name:"卧室",styleObj:{background:""},jpgNameArr:["0011.jpg"]},{name:"卫浴",styleObj:{background:""},jpgNameArr:[]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]},{name:"法式",styleObj:{background:""},children:[{name:"客厅",styleObj:{background:""},jpgNameArr:["0011.jpg"]},{name:"客餐厅",styleObj:{background:""},jpgNameArr:[]},{name:"餐厨",styleObj:{background:""},jpgNameArr:["0011.jpg"]},{name:"卧室",styleObj:{background:""},jpgNameArr:[]},{name:"卫浴",styleObj:{background:""},jpgNameArr:[]},{name:"书房",styleObj:{background:""},jpgNameArr:[]}]}]},10876:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0;const i=s(72872),o=s(73074);class n extends o.TypeDiv{constructor(t){super(),this.className="Menu",this.addAttrName("menu"),this.addStyleObj({position:"absolute",textAlign:"center",bottom:"0",color:"#fff",background:"rgba(0, 0, 0, 0.5)",padding:"10px 0",zIndex:102,width:"100vw",maxWidth:"440px",height:"80px"}),this.manner=new o.Division,this.manner.addAttrName("manner"),this.manner.addChild(new o.Division({text:"风格:",attrObj:{title:"风格"},styleObj:{padding:"5px 0",fontWeight:"bold",cursor:o.StyleCursor.default,display:"inline-block",width:"12.5%"}})),this.pos=new o.Division,this.pos.addAttrName("position"),this.pos.addStyleObj({padding:"5px 0"}),this.setConfig(t),this.createFirstPostItem(),this.addChildren(this.manner,this.pos),this.addStyleObj({left:t.left+"px"}),this.setMannerList(t.styleArr),this.setPosList(t.posArr)}createFirstPostItem(){this.pos.addChild(new o.Span({text:"位置:",attrObj:{name:"position"},styleObj:{fontWeight:"bold",cursor:o.StyleCursor.default}}))}setMannerList(t){for(const e of t){console.log("manner is ",e),e.styleObj.width="12.5%",e.styleObj.display="inline-block";const t=new o.Division({text:e.name,attrObj:{title:e.name},styleObj:e.styleObj});this.manner.addChild(t),(0,i.fromEvent)(t.dom,"click").subscribe((()=>this.parent.mannerClick(e,t)))}}setPosList(t){this.pos.clearChildren(),this.createFirstPostItem();for(const e of t)if(e.jpgNameArr.length){e.styleObj.padding="5px 5px";const t=new o.Span({text:e.name,attrObj:{title:e.name},styleObj:e.styleObj});this.pos.addChild(t),(0,i.fromEvent)(t.dom,"click").subscribe((()=>this.parent.posClick(e,t)))}}}e.Menu=n},7602:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Next=void 0;const i=s(72872),o=s(73074),n=s(54035),a=s(96351);class h extends o.TypeDiv{constructor(t){super(),this.parent=t,this.className="Next",this.addStyleObj({position:"absolute",right:"5px"}),this.addAttrName("next");const e=new a.TdIcon({svgObj:new n.ElArrowRightSvg,styleObj:{fontSize:"25px",background:"rgba(0, 0, 0, 0.5)",borderWidth:"0px",width:"50px",height:"50px",color:"#fff"}});this.addChild(e),(0,i.fromEvent)(e.dom,"click").subscribe((()=>this.parent.nextClick()))}}e.Next=h},30214:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NumPanel=void 0;const i=s(73074);class o extends i.TypeDiv{constructor(t){super(),this.className="NumPanel",this.addAttrName("num-panel"),this.addStyleObj({color:"#00ffff",width:"60px",height:"60px",borderRadius:"30px",left:"5px",top:"55px",fontSize:"18px",background:"rgba(0, 0, 0, 0.5)",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}),this.textNode=new i.TextNode(t?t.num+" / "+t.N:"0 / 0"),this.addChild(new i.Division({attrObj:{name:"num"},styleObj:{width:"60px",textAlign:"center",fontSize:"14px"},childNodes:[this.textNode]}))}setNum(t){this.textNode.setText(t.num+" / "+t.N)}}e.NumPanel=o},15582:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Previous=void 0;const i=s(72872),o=s(73074),n=s(54035),a=s(96351);class h extends o.TypeDiv{constructor(t){super(),this.parent=t,this.className="Preview",this.addStyleObj({position:"absolute",left:"5px"}),this.addAttrName("preview");const e=new a.TdIcon({svgObj:new n.ElArrowLeftSvg,styleObj:{fontSize:"25px",background:"rgba(0, 0, 0, 0.5)",borderWidth:"0px",width:"50px",height:"50px",color:"#fff"}});this.addChild(e),(0,i.fromEvent)(e.dom,"click").subscribe((()=>this.parent.previewClick()))}}e.Previous=h},62834:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ToolbarItem=void 0;const i=s(73074);class o extends i.TypeDiv{constructor(t){super(),this.className="ToolbarItem",this.addStyleObj({fontSize:"25px",background:"rgba(0, 0, 0, 0.5)",borderWidth:"0px",borderRadius:"25px",width:"50px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center"}),this.setConfig(t),this.img=new i.Img({parent:this}),this.img.addAttrObj({src:t.src,height:t.height,width:t.width}),this.addChild(this.img)}}e.ToolbarItem=o},80924:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Toolbar=void 0;const i=s(72872),o=s(73074),n=s(62834);class a extends o.TypeDiv{constructor(t){super(),this.parent=t,this.className="Toolbar",this.addAttrName("toolbar"),this.addStyleObj({position:"absolute",right:"20px",top:"60px"}),this.audioItem=new n.ToolbarItem({parent:this,name:"audio",src:"assets/UI/关闭声音.png",height:"20",width:"20"}),this.screenItem=new n.ToolbarItem({parent:this,name:"screen",src:"assets/UI/全屏5.png",width:"18",height:"18"}),this.rotateItem=new n.ToolbarItem({parent:this,name:"rotate",src:"assets/UI/停止旋转.png",height:"20",width:"20"}),this.questionItem=new n.ToolbarItem({parent:this,name:"question",src:"assets/UI/帮助5.png",height:"22",width:"22"}),this.addChildren(this.audioItem,this.screenItem,this.rotateItem,this.questionItem)}initEvents(){(0,i.fromEvent)(this.audioItem.dom,"click").subscribe((()=>this.parent.audioClick(this.audioItem.img))),(0,i.fromEvent)(this.screenItem.dom,"click").subscribe((()=>this.parent.screenClick(this.screenItem.img))),(0,i.fromEvent)(this.rotateItem.dom,"click").subscribe((()=>this.parent.rotateClick(this.rotateItem.img))),(0,i.fromEvent)(this.questionItem.dom,"click").subscribe((()=>this.parent.questionClick()))}}e.Toolbar=a},48519:(t,e,s)=>{s(10038)},62250:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(85232),n=i(s(84433));e.default=class{constructor(){this.width=400,this.height=300}init(t){this.$el=t,this.width=this.$el.clientWidth,this.height=this.$el.clientHeight,this.initScene(),this.initCamera(),this.initRenderer(),this.renderScene(),this.initControl()}initScene(){this.scene=new o.Scene}initCamera(){const t=new o.PerspectiveCamera(60,this.width/this.height,1,1e3);t.zoom=1,t.updateProjectionMatrix(),t.position.set(-.87,.03,.4),t.lookAt(this.scene.position),this.camera=t}initRenderer(){const t=new o.WebGLRenderer({antialias:!0});t.setSize(this.width,this.height),this.$el.appendChild(t.domElement),this.renderer=t}initControl(){const t=new n.default(this.camera,this.renderer.domElement);t.enablePan=!1,t.maxDistance=80}renderScene(){this.renderer.render(this.scene,this.camera)}}},97762:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{init(t){this.$el=t.$el,this.camera=t.camera,this.renderer=t.renderer,window.onresize=()=>this.onresizeFun()}onresizeFun(){const t=this.$el.clientWidth,e=this.$el.clientHeight;this.renderer.setSize(t,e),this.camera.aspect=t/e,this.camera.updateProjectionMatrix()}requestFullScreen(){const t=document.documentElement;t.requestFullscreen&&t.requestFullscreen()}exitFullscreen(){const t=document;t.exitFullscreen&&t.exitFullscreen()}}},49005:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const o=s(85232),n=i(s(62250)),a=i(s(97762));e.Model=class{constructor(){this.rotateBoool=!0,this.loaded=!1,this.FPS=30,this.refreshTime=1/this.FPS,this.timeS=0,this.clock=new o.Clock}init(t){console.log("model init .");const e=new n.default;e.init(t),this.events=new a.default,this.events.init(e),this.scene=e.scene,this.renderer=e.renderer,this.camera=e.camera,this.initModel()}initModel(){console.log("initModel begins . ");const t=new o.SphereGeometry(250,50,50),e=new o.MeshBasicMaterial({color:16777215,side:o.BackSide});this.box=new o.Mesh(t,e),this.scene.add(this.box);const s=new o.AudioListener;this.audio=new o.Audio(s),this.textureLoader=new o.TextureLoader,this.box.material.map=this.textureLoader.load("assets/风格/中式/客餐厅/00125.jpg",(()=>{this.loaded=!0;(new o.AudioLoader).load("assets/音乐/琵琶语.mp3",(t=>{this.audio.setBuffer(t),this.audio.setLoop(!0),this.audio.setVolume(.3)}),(t=>{t.total===t.loaded&&console.log("onProgress xhr.total === xhr.loaded.")}),(()=>{})),this.animation()}))}animation(){requestAnimationFrame((()=>this.animation()));const t=this.clock.getDelta();this.timeS=this.timeS+t,this.timeS>this.refreshTime&&(this.renderer.render(this.scene,this.camera),this.rotateBoool&&this.box.rotateY(.002),this.timeS=0)}}},84433:function(t,e,s){var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var o=Object.getOwnPropertyDescriptor(e,s);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,o)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&i(e,t,s);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const a=n(s(85232)),h=-1,p=0,r=1,g=2,l=3,j=4,d=5,c={type:"change"},m={type:"start"},u={type:"end"},b=1e-6;class y extends a.EventDispatcher{constructor(t,e,s){super(),this.object=t,this.domElement=void 0!==e?e:document,this.window=void 0!==s?s:window,this.enabled=!0,this.target=new a.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.updateOffset=new a.Vector3,this.updateQuat=(new a.Quaternion).setFromUnitVectors(t.up,new a.Vector3(0,1,0)),this.updateQuatInverse=this.updateQuat.clone().invert(),this.updateLastPosition=new a.Vector3,this.updateLastQuaternion=new a.Quaternion,this.state=h,this.scale=1,this.spherical=new a.Spherical,this.sphericalDelta=new a.Spherical,this.panOffset=new a.Vector3,this.zoomChanged=!1,this.rotateStart=new a.Vector2,this.rotateEnd=new a.Vector2,this.rotateDelta=new a.Vector2,this.panStart=new a.Vector2,this.panEnd=new a.Vector2,this.panDelta=new a.Vector2,this.dollyStart=new a.Vector2,this.dollyEnd=new a.Vector2,this.dollyDelta=new a.Vector2,this.panLeftV=new a.Vector3,this.panUpV=new a.Vector3,this.panInternalOffset=new a.Vector3,this.onMouseDown=t=>{if(!1!==this.enabled){if(t.preventDefault(),t.button===this.mouseButtons.ORBIT){if(!1===this.enableRotate)return;this.rotateStart.set(t.clientX,t.clientY),this.state=p}else if(t.button===this.mouseButtons.ZOOM){if(!1===this.enableZoom)return;this.dollyStart.set(t.clientX,t.clientY),this.state=r}else if(t.button===this.mouseButtons.PAN){if(!1===this.enablePan)return;this.panStart.set(t.clientX,t.clientY),this.state=g}this.state!==h&&(document.addEventListener("mousemove",this.onMouseMove,!1),document.addEventListener("mouseup",this.onMouseUp,!1),this.dispatchEvent(m))}},this.onMouseMove=t=>{if(!1!==this.enabled)if(t.preventDefault(),this.state===p){if(!1===this.enableRotate)return;this.rotateEnd.set(t.clientX,t.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart);const e=this.domElement===document?this.domElement.body:this.domElement;this.rotateLeft(2*Math.PI*this.rotateDelta.x/e.clientWidth*this.rotateSpeed),this.rotateUp(2*Math.PI*this.rotateDelta.y/e.clientHeight*this.rotateSpeed),this.rotateStart.copy(this.rotateEnd),this.update()}else if(this.state===r){if(!1===this.enableZoom)return;this.dollyEnd.set(t.clientX,t.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyIn(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyOut(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}else if(this.state===g){if(!1===this.enablePan)return;this.panEnd.set(t.clientX,t.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.update()}},this.onMouseUp=()=>{!1!==this.enabled&&(document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.dispatchEvent(u),this.state=h)},this.onMouseWheel=t=>{!1===this.enabled||!1===this.enableZoom||this.state!==h&&this.state!==p||(t.preventDefault(),t.stopPropagation(),t.deltaY<0?this.dollyOut(this.getZoomScale()):t.deltaY>0&&this.dollyIn(this.getZoomScale()),this.update(),this.dispatchEvent(m),this.dispatchEvent(u))},this.onKeyDown=t=>{if(!1!==this.enabled&&!1!==this.enableKeys&&!1!==this.enablePan)switch(t.keyCode){case this.keys.UP:this.pan(0,this.keyPanSpeed),this.update();break;case this.keys.BOTTOM:this.pan(0,-this.keyPanSpeed),this.update();break;case this.keys.LEFT:this.pan(this.keyPanSpeed,0),this.update();break;case this.keys.RIGHT:this.pan(-this.keyPanSpeed,0),this.update()}},this.onTouchStart=t=>{if(!1===this.enabled)return;let e,s,i;switch(t.touches.length){case 1:if(!1===this.enableRotate)return;this.rotateStart.set(t.touches[0].pageX,t.touches[0].pageY),this.state=l;break;case 2:if(!1===this.enableZoom)return;e=t.touches[0].pageX-t.touches[1].pageX,s=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+s*s),this.dollyStart.set(0,i),this.state=j;break;case 3:if(!1===this.enablePan)return;this.panStart.set(t.touches[0].pageX,t.touches[0].pageY),this.state=d;break;default:this.state=h}this.state!==h&&this.dispatchEvent(m)},this.onTouchMove=t=>{if(!1===this.enabled)return;let e,s,i,o;switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===this.enableRotate)return;if(this.state!==l)return;this.rotateEnd.set(t.touches[0].pageX,t.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),e=this.domElement===document?this.domElement.body:this.domElement,this.rotateLeft(2*Math.PI*this.rotateDelta.x/e.clientWidth*this.rotateSpeed),this.rotateUp(2*Math.PI*this.rotateDelta.y/e.clientHeight*this.rotateSpeed),this.rotateStart.copy(this.rotateEnd),this.update();break;case 2:if(!1===this.enableZoom)return;if(this.state!==j)return;s=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(s*s+i*i),this.dollyEnd.set(0,o),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update();break;case 3:if(!1===this.enablePan)return;if(this.state!==d)return;this.panEnd.set(t.touches[0].pageX,t.touches[0].pageY),this.panDelta.subVectors(this.panEnd,this.panStart),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.update();break;default:this.state=h}},this.onTouchEnd=()=>{!1!==this.enabled&&(this.dispatchEvent(u),this.state=h)},this.onContextMenu=t=>{t.preventDefault()},this.domElement.addEventListener("contextmenu",this.onContextMenu,!1),this.domElement.addEventListener("mousedown",this.onMouseDown,!1),this.domElement.addEventListener("wheel",this.onMouseWheel,!1),this.domElement.addEventListener("touchstart",this.onTouchStart,!1),this.domElement.addEventListener("touchend",this.onTouchEnd,!1),this.domElement.addEventListener("touchmove",this.onTouchMove,!1),this.window.addEventListener("keydown",this.onKeyDown,!1),this.update()}update(){const t=this.object.position;return this.updateOffset.copy(t).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&this.state===h&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),t.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>b||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>b)&&(this.dispatchEvent(c),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)}panLeft(t,e){this.panLeftV.setFromMatrixColumn(e,0),this.panLeftV.multiplyScalar(-t),this.panOffset.add(this.panLeftV)}panUp(t,e){this.panUpV.setFromMatrixColumn(e,1),this.panUpV.multiplyScalar(t),this.panOffset.add(this.panUpV)}pan(t,e){const s=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){const i=this.object.position;this.panInternalOffset.copy(i).sub(this.target);let o=this.panInternalOffset.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*t*o/s.clientHeight,this.object.matrix),this.panUp(2*e*o/s.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(t*(this.object.right-this.object.left)/this.object.zoom/s.clientWidth,this.object.matrix),this.panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/s.clientHeight,this.object.matrix)):this.enablePan=!1}dollyIn(t){this._checkPerspectiveCamera(this.object)?this.scale/=t:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}dollyOut(t){this._checkPerspectiveCamera(this.object)?this.scale*=t:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(t){this.sphericalDelta.theta-=t}rotateUp(t){this.sphericalDelta.phi-=t}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}dispose(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(c),this.update(),this.state=h}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)}get center(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}get noZoom(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom}set noZoom(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}_checkPerspectiveCamera(t){return t.isPerspectiveCamera}_checkOrthographicCamera(t){return t.isOrthographicCamera}}e.default=y},16135:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.House=void 0;const i=s(73074),o=s(49005),n=s(71634),a=s(10876),h=s(7602),p=s(15582),r=s(30214),g=s(80924);class l extends i.TypeDiv{constructor(t){super(),this.styleArr=n.mannerList,this.width=400,this.height=300,this.classPath="中式/客餐厅",this.path="",this.audioBoool=!1,this.ScreenBoool=!0,this.rotateBoool=!0,this.N=n.mannerList[0].children[0].jpgNameArr.length,this.num=1,this.left=0,console.log("house constructor . "),this.className="House",this.addStyleObj({width:"100vw",height:"100vh",textAlign:"center"}),this.addAttrObj({zIndex:105,name:"house"}),this.posArr=n.mannerList[0].children,this.menuWrapper=new a.Menu({parent:this,left:this.left,styleArr:this.styleArr,posArr:this.posArr}),this.nextWrapper=new h.Next(this),this.preWrapper=new p.Previous(this),this.numPanel=new r.NumPanel({num:this.num,N:this.N}),this.toolbar=new g.Toolbar(this),this.addChildren(this.menuWrapper,this.nextWrapper,this.preWrapper,this.numPanel,this.toolbar),this.mannerChoose=n.mannerList[0],this.mannerItemChoose=this.menuWrapper.manner.children[1],this.posChoose=n.mannerList[0].children[0],this.posItemChoose=this.menuWrapper.pos.children[1],this.render(),this.mount(t.el),this.initModel()}initModel(){console.log("initModel . "),this.width=this.dom.clientWidth,console.log("this.width is ",this.width),this.left=this.width>440?(this.width-440)/2:0,this.menuWrapper.setStyleObj({left:this.left+"px"}),this.height=this.dom.clientHeight,console.log("this.height is ",this.height),this.nextWrapper.setStyleObj({top:this.height/2+"px"}),this.preWrapper.setStyleObj({top:this.height/2+"px"}),this.model=new o.Model,this.model.init(this.dom)}audioClick(t){this.audioBoool?(this.audioBoool=!1,t.setAttrObj({src:"assets/UI/关闭声音.png"}),this.model.audio.pause()):(this.audioBoool=!0,t.setAttrObj({src:"assets/UI/打开声音.png"}),this.model.audio.play())}screenClick(t){this.ScreenBoool?(this.ScreenBoool=!1,t.setAttrObj({src:"assets/UI/退出全屏.png"}),this.model.events.requestFullScreen()):(this.ScreenBoool=!0,t.setAttrObj({src:"assets/UI/全屏5.png"}),this.model.events.exitFullscreen())}questionClick(){}rotateClick(t){this.rotateBoool?(this.rotateBoool=!1,t.setAttrObj({src:"assets/UI/旋转.png"}),this.model.rotateBoool=!1):(this.rotateBoool=!0,t.setAttrObj({src:"assets/UI/停止旋转.png"}),this.model.rotateBoool=!0)}resetNum(){this.path=this.classPath+"/"+this.posChoose.jpgNameArr[this.num-1],console.log("this.path is ",this.path),this.numPanel.setNum({num:this.num,N:this.N}),this.model.box.material.map=this.model.textureLoader.load("assets/风格/"+this.path,(()=>{this.model.animation()})),this.model.animation()}nextClick(){console.log("nextClick . "),this.num<this.N?this.num+=1:this.num=1,this.resetNum()}previewClick(){this.num>1?this.num-=1:this.num=this.N,this.resetNum()}mannerClick(t,e){console.log("styleClick . styleObj is ",t),this.num=1,this.mannerChoose.styleObj.background="",this.mannerItemChoose.setStyleObj({background:""}),this.posChoose.styleObj.background=void 0,this.mannerChoose=t,this.mannerItemChoose=e,this.mannerChoose.styleObj.background="#409EFF",e.setStyleObj({background:"#409EFF"}),this.posArr=this.mannerChoose.children,this.menuWrapper.setPosList(this.posArr),this.menuWrapper.pos.render(),this.posChoose=this.posArr[0],this.posItemChoose=this.menuWrapper.pos.children[1],this.posItemChoose.setStyleObj({background:"#409EFF"}),this.posArr[0].styleObj.background="#409EFF",this.N=this.posChoose.jpgNameArr.length,this.numPanel.setNum({num:this.num,N:this.N}),this.classPath=this.mannerChoose.name+"/"+this.posChoose.name,this.path=this.classPath+"/"+this.posChoose.jpgNameArr[this.num-1],this.model.box.material.map=this.model.textureLoader.load("assets/风格/"+this.path,(()=>{this.model.animation()}))}posClick(t,e){console.log("posClick begins ."),this.num=1,this.posChoose.styleObj.background=void 0,this.posChoose=t,this.posItemChoose.setStyleObj({background:""}),this.posItemChoose=e,e.setStyleObj({background:"#409EFF"}),this.N=this.posChoose.jpgNameArr.length,this.numPanel.setNum({num:this.num,N:this.N}),this.posChoose.styleObj.background="#409EFF",this.classPath=this.mannerChoose.name+"/"+this.posChoose.name,this.path=this.classPath+"/"+this.posChoose.jpgNameArr[this.num-1],this.model.box.material.map=this.model.textureLoader.load("assets/风格/"+this.path,(()=>{this.model.animation()}))}}e.House=l}},t=>{t.O(0,[216],(()=>{return e=48519,t(t.s=e);var e}));var e=t.O();return e=e.DecorationApp}])));